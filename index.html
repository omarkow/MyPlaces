<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Places</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css' rel='stylesheet' />
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.min.js"></script>
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.0/mapbox-gl-geocoder.css" type="text/css">
    <script src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js"></script>
</head>
<body>

    <nav class="navbar">
        <div class="logo">
            <span class="logo-text">My Places</span>
        </div>
        <div class="nav-controls">
            <button class="btn-login">Connexion</button>
            <button id="btn-filters-toggle" class="btn-filters-modern" title="Filtres cat√©gories">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21,15 16,10 5,21"></polyline>
                </svg>
            </button>
            <div id="category-filters" class="modern-filters-panel">
                <div class="filters-header">
                    <span>üó∫Ô∏è Filtres cat√©gories</span>
                    <button id="btn-close-filters" class="btn-close-modern">√ó</button>
                </div>
                <div class="filters-grid">
                    <label class="filter-item culte">
                        <input type="checkbox" class="cat-filter" value="culte" checked>
                        <span class="checkmark culte"></span>
                        <span class="filter-label">Lieux de culte</span>
                    </label>
                    <label class="filter-item chateaux">
                        <input type="checkbox" class="cat-filter" value="chateaux" checked>
                        <span class="checkmark chateaux"></span>
                        <span class="filter-label">Ch√¢teaux, palais et demeures</span>
                    </label>
                    <label class="filter-item historique">
                        <input type="checkbox" class="cat-filter" value="historique" checked>
                        <span class="checkmark historique"></span>
                        <span class="filter-label">Sites arch√©ologiques ou historiques</span>
                    </label>
                    <label class="filter-item panorama">
                        <input type="checkbox" class="cat-filter" value="panorama" checked>
                        <span class="checkmark panorama"></span>
                        <span class="filter-label">Paysages et panorama</span>
                    </label>
                    <label class="filter-item plages">
                        <input type="checkbox" class="cat-filter" value="plages" checked>
                        <span class="checkmark plages"></span>
                        <span class="filter-label">Plages</span>
                    </label>
                    <label class="filter-item autres">
                        <input type="checkbox" class="cat-filter" value="autres" checked>
                        <span class="checkmark autres"></span>
                        <span class="filter-label">Autres</span>
                    </label>
                </div>
                <div class="filters-footer">
                    <button id="btn-toggle-all" class="btn-toggle-modern">Tout masquer</button>
                </div>
            </div>
        </div>
    </nav>

    <main id="map-container"></main>

    <!-- Boutons de zoom personnalis√©s -->
<div id="zoom-controls" class="zoom-controls">
  <button id="zoom-in-btn" class="zoom-btn zoom-in" title="Zoomer (+)">+</button>
  <button id="zoom-out-btn" class="zoom-btn zoom-out" title="D√©zoomer (-)">‚àí</button>
</div>


<aside class="sidebar">
    <button id="admin-add-button" class="btn-admin-add"><span>+</span></button>

    <div id="side-panel" class="panel-hidden">
        <button id="close-panel" class="btn-close">√ó</button>
        <div id="panel-content" class="panel-content">
            <h2 id="panel-title"></h2>
            <p id="panel-city"></p>
            <div id="panel-image-container"></div>
            <p id="panel-description"></p>
            <div id="admin-controls"></div> </div>
    </div>
    </aside>

    <div id="lightbox">
        <span id="lightbox-close">&times;</span>
        <button id="prev-btn" class="lightbox-nav">&#10094;</button>
        <img id="lightbox-img" src="" alt="Agrandissement">
        <button id="next-btn" class="lightbox-nav">&#10095;</button>
    </div>

    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="close-login">&times;</span>
            <h2 id="modal-title">Connexion</h2>
            <form id="login-form">
                <input type="email" id="email" placeholder="Email" required>
                <input type="password" id="password" placeholder="Mot de passe" required>
                <button type="submit" class="btn-submit">Se connecter</button>
            </form>
            <div id="admin-only-section" class="hidden">
                <hr>
                <button id="btn-create-account" class="btn-secondary">Cr√©er un compte utilisateur</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script> 
</body>
